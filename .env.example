# Crawl4AI MCP Server 环境变量配置示例
# 复制此文件为 .env 并填入实际的值

# ============================================
# API 密钥配置
# ============================================

# 在 config.json 缺省时,容器会自动读取这些变量,因此用户无需再传入密钥
# (复制为 .env 后即可生效, `make docker-up` 会自动加载)

# Google Custom Search API
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_CSE_ID=your-google-cse-id-here

# Brave Search API
BRAVE_API_KEY=your-brave-api-key-here

# ============================================
# 代理配置（可选）
# ============================================

# HTTP/HTTPS 代理 (供全局回退使用, 建议为空, 单独在 config.json 或下方 per-engine 段设置)
# 面向 Docker 场景, 推荐直接指向 host.docker.internal 以复用宿主机 Clash:
# HTTP_PROXY=http://host.docker.internal:7890
# HTTPS_PROXY=http://host.docker.internal:7890
# 如果直接在宿主机运行, 仍可使用 127.0.0.1 地址:
# HTTP_PROXY=http://127.0.0.1:7890
# HTTPS_PROXY=http://127.0.0.1:7890
# NO_PROXY=localhost,127.0.0.1

# DuckDuckGo 专用代理 (可选)
# DUCKDUCKGO_PROXY=http://127.0.0.1:7890

# Brave 专用代理 (可选)
# BRAVE_PROXY=http://127.0.0.1:7890

# Google 专用代理 (可选)
# GOOGLE_PROXY=http://127.0.0.1:7890

# SearXNG 专用代理 (可选)
# SEARXNG_PROXY=http://127.0.0.1:7890

# SOCKS5 代理示例（注意：部分引擎可能不支持）
# HTTP_PROXY=socks5h://127.0.0.1:7890
# HTTPS_PROXY=socks5h://127.0.0.1:7890

# 容器内访问宿主机代理(如 Clash) 的辅助开关
# 将以下变量设置为真时,会把所有指向 127.0.0.1/localhost 的代理 URL
# 重写为 host.docker.internal (或你指定的 gateway),解决 ERR_PROXY_CONNECTION_FAILED
CRAWL4AI_ALLOW_PROXY_REWRITE=true
# 如 Clash 监听在宿主机 7890/7891 端口,可在这里重写端口 (1-65535)
HOST_PROXY_PORT_OVERRIDE=7890
# Linux 用户若启用了 `extra_hosts: host.docker.internal:host-gateway`,无需修改
# 若网关不同,可填宿主机 IP
HOST_PROXY_GATEWAY=host.docker.internal

# ============================================
# SearXNG 配置（可选）
# ============================================

# 默认指向 docker-compose 中的 searxng 服务
SEARXNG_BASE_URL=http://searxng:8080
SEARXNG_LANGUAGE=zh-CN

# 若你在宿主机上单独运行 SearXNG, 请改为:
# SEARXNG_BASE_URL=http://host.docker.internal:28981
# 或者在本机直接运行时使用:
# SEARXNG_BASE_URL=http://127.0.0.1:28981

# ============================================
# 应用配置
# ============================================

# 缓存配置
ENABLE_CACHE=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# 限流配置
ENABLE_RATE_LIMIT=true

# 监控配置
ENABLE_MONITORING=true

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=/app/logs/crawl4ai.log

# ============================================
# 服务器配置
# ============================================

# 服务端口
SERVER_PORT=8000

# 健康检查
HEALTH_CHECK_ENABLED=true
