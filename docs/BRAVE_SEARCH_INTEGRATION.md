# Brave Search é›†æˆæŒ‡å—

## ğŸ“– ç›®å½•

- [ç®€ä»‹](#ç®€ä»‹)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è·å– API å¯†é’¥](#è·å–-api-å¯†é’¥)
- [é…ç½®æ–¹æ³•](#é…ç½®æ–¹æ³•)
- [è‡ªåŠ¨å›é€€æœºåˆ¶](#è‡ªåŠ¨å›é€€æœºåˆ¶)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [API é™åˆ¶](#api-é™åˆ¶)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## ç®€ä»‹

Brave Search API æ˜¯ç”± Brave æµè§ˆå™¨æä¾›çš„ç‹¬ç«‹æœç´¢ APIï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

- **ğŸ†“ å…è´¹é¢åº¦**: æ¯æœˆ 2,000 æ¬¡å…è´¹æŸ¥è¯¢
- **ğŸ” éšç§ä¿æŠ¤**: ä¸è·Ÿè¸ªç”¨æˆ·ï¼Œä¿æŠ¤éšç§
- **ğŸŒ å…¨çƒè¦†ç›–**: åŸºäº Brave è‡ªå·±çš„æœç´¢ç´¢å¼•
- **âš¡ é«˜æ€§èƒ½**: å¿«é€Ÿå“åº”ï¼Œä½å»¶è¿Ÿ
- **ğŸ¯ é«˜è´¨é‡**: æœç´¢ç»“æœè´¨é‡ä¼˜ç§€

## å¿«é€Ÿå¼€å§‹

### 1. è·å– API å¯†é’¥

è®¿é—® [Brave Search API](https://brave.com/search/api/) æ³¨å†Œå¹¶è·å–å…è´¹ API å¯†é’¥ã€‚

### 2. é…ç½® API å¯†é’¥

ç¼–è¾‘ `config.json` æ–‡ä»¶ï¼š

```json
{
    "brave": {
        "api_key": "YOUR_BRAVE_API_KEY"
    }
}
```

### 3. å¼€å§‹ä½¿ç”¨

ä½¿ç”¨ Brave Search è¿›è¡Œæœç´¢ï¼š

```python
# ä½¿ç”¨ Brave Search
results = await search_manager.search("Python programming", engine="brave")

# ä½¿ç”¨è‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼Œæ”¯æŒå›é€€ï¼‰
results = await search_manager.search("Python programming", engine="auto")
```

## è·å– API å¯†é’¥

### æ³¨å†Œæ­¥éª¤

1. **è®¿é—®å®˜ç½‘**: æ‰“å¼€ https://brave.com/search/api/
2. **åˆ›å»ºè´¦æˆ·**: ç‚¹å‡» "Sign Up" æ³¨å†Œè´¦æˆ·
3. **é€‰æ‹©è®¡åˆ’**: é€‰æ‹© Free è®¡åˆ’ï¼ˆæ¯æœˆ 2,000 æ¬¡å…è´¹æŸ¥è¯¢ï¼‰
4. **è·å–å¯†é’¥**: åœ¨æ§åˆ¶å°ä¸­è·å– API å¯†é’¥

### å…è´¹è®¡åˆ’è¯¦æƒ…

- **æ¯æœˆé…é¢**: 2,000 æ¬¡æŸ¥è¯¢
- **é€Ÿç‡é™åˆ¶**: 1 æ¬¡/ç§’
- **åŠŸèƒ½å®Œæ•´**: æ”¯æŒæ‰€æœ‰ API åŠŸèƒ½
- **æ— éœ€ä¿¡ç”¨å¡**: æ³¨å†Œæ—¶ä¸éœ€è¦ä¿¡ç”¨å¡

## é…ç½®æ–¹æ³•

### å®Œæ•´é…ç½®ç¤ºä¾‹

`config.json`:

```json
{
    "brave": {
        "api_key": "BSApoZO3VglXHsQjRaHW1GFMJ6ZtXOM"
    },
    "google": {
        "api_key": "YOUR_GOOGLE_API_KEY",
        "cse_id": "YOUR_CSE_ID"
    },
    "searxng": {
        "base_url": "http://localhost:28981",
        "language": "zh-CN"
    }
}
```

### é…ç½®ä¼˜å…ˆçº§

å½“é…ç½®å¤šä¸ªæœç´¢å¼•æ“æ—¶ï¼Œç³»ç»Ÿä¼šæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§åˆå§‹åŒ–ï¼š

1. **Brave Search** - ä¼˜å…ˆçº§æœ€é«˜ï¼ˆå¦‚æœé…ç½®ï¼‰
2. **Google Search** - æ¬¡ä¼˜å…ˆçº§ï¼ˆå¦‚æœé…ç½®ï¼‰
3. **SearXNG** - ç¬¬ä¸‰ä¼˜å…ˆçº§ï¼ˆå¦‚æœé…ç½®ï¼‰
4. **DuckDuckGo** - å§‹ç»ˆä½œä¸ºé»˜è®¤å›é€€å¼•æ“

## è‡ªåŠ¨å›é€€æœºåˆ¶

### å›é€€å·¥ä½œåŸç†

æœ¬é¡¹ç›®å®ç°äº†æ™ºèƒ½å›é€€æœºåˆ¶ï¼Œç¡®ä¿æœç´¢æœåŠ¡çš„é«˜å¯ç”¨æ€§ï¼š

#### 1. Auto æ¨¡å¼ï¼ˆæ¨èï¼‰

```python
# è‡ªåŠ¨é€‰æ‹©æœ€ä½³å¼•æ“ï¼Œå¤±è´¥æ—¶è‡ªåŠ¨å›é€€
results = await search_manager.search(query, engine="auto")
```

**å·¥ä½œæµç¨‹**ï¼š
- ä¼˜å…ˆä½¿ç”¨é…ç½®çš„å¼•æ“ï¼ˆBrave â†’ Google â†’ SearXNGï¼‰
- å¦‚æœä¸»å¼•æ“å¤±è´¥ï¼ˆAPI è¿‡æœŸã€é…é¢ç”¨å°½ç­‰ï¼‰ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å›é€€å¼•æ“
- å›é€€é¡ºåºï¼šDuckDuckGo â†’ Google â†’ SearXNG
- è·å¾—è¶³å¤Ÿç»“æœåç«‹å³è¿”å›ï¼Œæ— éœ€å°è¯•æ‰€æœ‰å¼•æ“

#### 2. æŒ‡å®šå¼•æ“æ¨¡å¼

```python
# æŒ‡å®šä½¿ç”¨ Brave Search
results = await search_manager.search(query, engine="brave")
```

**å·¥ä½œæµç¨‹**ï¼š
- å°è¯•ä½¿ç”¨æŒ‡å®šçš„å¼•æ“
- å¦‚æœæŒ‡å®šå¼•æ“ä¸å¯ç”¨æˆ–å¤±è´¥ï¼Œè‡ªåŠ¨å›é€€åˆ° DuckDuckGo

#### 3. å›é€€è§¦å‘æ¡ä»¶

ç³»ç»Ÿåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¼šè§¦å‘è‡ªåŠ¨å›é€€ï¼š

- âœ— API å¯†é’¥æ— æ•ˆæˆ–è¿‡æœŸï¼ˆ401 é”™è¯¯ï¼‰
- âœ— API é…é¢ç”¨å°½ï¼ˆ429 é”™è¯¯ï¼‰
- âœ— ç½‘ç»œè¿æ¥å¤±è´¥
- âœ— æœç´¢å¼•æ“è¿”å›ç©ºç»“æœ
- âœ— æœªé…ç½®æŒ‡å®šçš„æœç´¢å¼•æ“

### å›é€€å¼•æ“åˆ—è¡¨

| å¼•æ“       | ç”¨é€”         | ç‰¹ç‚¹               |
| ---------- | ------------ | ------------------ |
| DuckDuckGo | ä¸»è¦å›é€€å¼•æ“ | å§‹ç»ˆå¯ç”¨ï¼Œæ— éœ€é…ç½® |
| Google     | æ¬¡è¦å›é€€å¼•æ“ | éœ€è¦é…ç½®ï¼Œ100æ¬¡/å¤© |
| SearXNG    | ç¬¬ä¸‰å›é€€å¼•æ“ | éœ€è¦éƒ¨ç½²ï¼Œæ— é™åˆ¶   |

### æ—¥å¿—è¾“å‡ºç¤ºä¾‹

```
INFO: Brave Search engine initialized
INFO: Starting search with query: Python, engine: auto, num_results: 10
INFO: Got 10 results from BraveSearch
INFO: Got enough results from BraveSearch, stopping
INFO: Returning 10 total results
```

å¤±è´¥å›é€€ç¤ºä¾‹ï¼š

```
ERROR: Brave Search API key is invalid or expired
WARNING: No results from BraveSearch, trying next engine
INFO: Trying fallback engines due to BraveSearch failure
INFO: Got 10 results from DuckDuckGoSearch
INFO: Returning 10 total results
```

## ä½¿ç”¨ç¤ºä¾‹

### Python ä»£ç ç¤ºä¾‹

```python
import asyncio
from search import SearchManager

async def main():
    manager = SearchManager()
    
    # 1. è‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼‰
    results = await manager.search(
        query="äººå·¥æ™ºèƒ½",
        num_results=10,
        engine="auto"
    )
    
    # 2. æŒ‡å®šä½¿ç”¨ Brave
    results = await manager.search(
        query="machine learning",
        num_results=5,
        engine="brave"
    )
    
    # 3. èšåˆæ‰€æœ‰å¼•æ“
    results = await manager.search(
        query="deep learning",
        num_results=20,
        engine="all"
    )
    
    for result in results:
        print(f"{result['title']}")
        print(f"URL: {result['link']}")
        print(f"æ¥æº: {result['source']}")
        print()

asyncio.run(main())
```

### MCP å·¥å…·è°ƒç”¨

```json
{
    "query": "Python programming",
    "num_results": 10,
    "engine": "auto"
}
```

### è¿è¡Œæµ‹è¯•

```bash
# æµ‹è¯• Brave Search
python tests/test_brave.py

# æŸ¥çœ‹æµ‹è¯•è¾“å‡º
# âœ“ æµ‹è¯•åŸºæœ¬æœç´¢
# âœ“ æµ‹è¯•è‡ªåŠ¨å›é€€
# âœ“ æµ‹è¯•æ‰€æœ‰å¼•æ“
# âœ“ æµ‹è¯•æ— æ•ˆå¼•æ“å›é€€
```

## API é™åˆ¶

### å…è´¹è®¡åˆ’é™åˆ¶

| é¡¹ç›®           | é™åˆ¶       |
| -------------- | ---------- |
| æ¯æœˆæŸ¥è¯¢æ•°     | 2,000 æ¬¡   |
| é€Ÿç‡é™åˆ¶       | 1 æ¬¡/ç§’    |
| æ¯æ¬¡æŸ¥è¯¢ç»“æœæ•° | æœ€å¤š 20 ä¸ª |
| åŠŸèƒ½é™åˆ¶       | æ—          |

### ä»˜è´¹è®¡åˆ’

å¦‚æœéœ€è¦æ›´å¤šæŸ¥è¯¢é…é¢ï¼Œå¯ä»¥å‡çº§åˆ°ä»˜è´¹è®¡åˆ’ï¼š

- **Starter**: $5/æœˆï¼Œ10,000 æ¬¡æŸ¥è¯¢
- **Pro**: $50/æœˆï¼Œ100,000 æ¬¡æŸ¥è¯¢
- **Enterprise**: å®šåˆ¶ï¼ŒæŒ‰éœ€å®šä»·

## å¸¸è§é—®é¢˜

### 1. API å¯†é’¥æ— æ•ˆ

**é”™è¯¯ä¿¡æ¯**ï¼š
```
ERROR: Brave Search API key is invalid or expired
```

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥ `config.json` ä¸­çš„ API å¯†é’¥æ˜¯å¦æ­£ç¡®
- è®¿é—® Brave Search API æ§åˆ¶å°ç¡®è®¤å¯†é’¥çŠ¶æ€
- é‡æ–°ç”Ÿæˆæ–°çš„ API å¯†é’¥

### 2. é…é¢ç”¨å°½

**é”™è¯¯ä¿¡æ¯**ï¼š
```
ERROR: Brave Search API rate limit exceeded
```

**è§£å†³æ–¹æ³•**ï¼š
- ç­‰å¾…ä¸‹ä¸ªæœˆé…é¢é‡ç½®
- å‡çº§åˆ°ä»˜è´¹è®¡åˆ’
- ä½¿ç”¨ `engine="auto"` æ¨¡å¼è‡ªåŠ¨å›é€€åˆ°å…¶ä»–å¼•æ“

### 3. æœç´¢ç»“æœä¸ºç©º

**å¯èƒ½åŸå› **ï¼š
- API é…é¢ç”¨å°½
- API å¯†é’¥è¿‡æœŸ
- ç½‘ç»œè¿æ¥é—®é¢˜
- æŸ¥è¯¢å…³é”®è¯é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š
- ç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ° DuckDuckGo
- æ£€æŸ¥æ—¥å¿—ç¡®è®¤å›é€€æ˜¯å¦æˆåŠŸ
- å¦‚æœæ‰€æœ‰å¼•æ“éƒ½å¤±è´¥ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥

### 4. å¦‚ä½•æŸ¥çœ‹é…é¢ä½¿ç”¨æƒ…å†µ

è®¿é—® [Brave Search API æ§åˆ¶å°](https://brave.com/search/api/dashboard/) æŸ¥çœ‹ï¼š

- å½“æœˆå·²ä½¿ç”¨æŸ¥è¯¢æ•°
- å‰©ä½™é…é¢
- API å¯†é’¥çŠ¶æ€
- ä½¿ç”¨ç»Ÿè®¡å›¾è¡¨

### 5. å¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢é…é¢

**å»ºè®®**ï¼š

1. **ä½¿ç”¨ Auto æ¨¡å¼**: å¤±è´¥æ—¶è‡ªåŠ¨å›é€€ï¼ŒèŠ‚çœé…é¢
2. **ç¼“å­˜ç»“æœ**: å¯¹ç›¸åŒæŸ¥è¯¢ç¼“å­˜ç»“æœ
3. **åˆç†æ§åˆ¶ num_results**: ä¸è¦è¯·æ±‚è¿‡å¤šç»“æœ
4. **ç»„åˆä½¿ç”¨å¤šå¼•æ“**: åˆ†æ•£æŸ¥è¯¢å‹åŠ›

```python
# å¥½çš„åšæ³•ï¼šä½¿ç”¨ auto æ¨¡å¼
results = await manager.search(query, engine="auto")

# ä¸æ¨èï¼šæ€»æ˜¯æŒ‡å®š braveï¼Œé…é¢ç”¨å°½åæ— æ³•å›é€€
results = await manager.search(query, engine="brave")
```

## æ€§èƒ½å¯¹æ¯”

### æœç´¢å¼•æ“å¯¹æ¯”

| å¼•æ“       | å…è´¹é…é¢ | å“åº”é€Ÿåº¦ | ç»“æœè´¨é‡ | éšç§ä¿æŠ¤ |
| ---------- | -------- | -------- | -------- | -------- |
| Brave      | 2000/æœˆ  | âš¡âš¡âš¡âš¡     | â­â­â­â­     | âœ“âœ“âœ“âœ“     |
| Google     | 100/å¤©   | âš¡âš¡âš¡âš¡âš¡    | â­â­â­â­â­    | âœ“âœ“       |
| DuckDuckGo | æ— é™åˆ¶   | âš¡âš¡âš¡      | â­â­â­      | âœ“âœ“âœ“âœ“âœ“    |
| SearXNG    | æ— é™åˆ¶*  | âš¡âš¡âš¡      | â­â­â­â­     | âœ“âœ“âœ“âœ“âœ“    |

*éœ€è¦è‡ªå·±éƒ¨ç½²

### æ¨èä½¿ç”¨ç­–ç•¥

1. **æ—¥å¸¸ä½¿ç”¨**: `engine="auto"`ï¼ˆè‡ªåŠ¨é€‰æ‹© + å›é€€ï¼‰
2. **é«˜è´¨é‡éœ€æ±‚**: `engine="google"` æˆ– `engine="brave"`
3. **å¤§é‡æŸ¥è¯¢**: `engine="searxng"` æˆ– `engine="duckduckgo"`
4. **éšç§ä¼˜å…ˆ**: `engine="duckduckgo"` æˆ– `engine="searxng"`

## ç›¸å…³èµ„æº

- ğŸ“– [Brave Search API å®˜æ–¹æ–‡æ¡£](https://brave.com/search/api/docs/)
- ğŸ“– [å…è´¹æœç´¢å¼•æ“å¯¹æ¯”](FREE_SEARCH_ENGINES.md)
- ğŸ“– [é…ç½®æŒ‡å—](../examples/CONFIG.md)
- ğŸ“– [é¡¹ç›® README](../README.md)

## æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æ—¥å¿—è¾“å‡ºç¡®è®¤é”™è¯¯ä¿¡æ¯
2. è¿è¡Œæµ‹è¯•è„šæœ¬ `python tests/test_brave.py`
3. æ£€æŸ¥ [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜) éƒ¨åˆ†
4. æäº¤ Issue åˆ° GitHub ä»“åº“

---

**æœ€åæ›´æ–°**: 2025-10-11
**ç‰ˆæœ¬**: v0.2.0
